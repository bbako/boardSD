<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="org.board.persistence.BoardDAO" >


<select id="listAll" resultType="org.board.domain.BoardVO" parameterType="int">
	<![CDATA[ select * from s_board where SEQ_ID>0 order by SEQ_ID desc limit #{page},10]]>

</select>


<insert id="create" parameterType="org.board.domain.BoardVO">
insert into s_board(BOARD_TITLE,BOARD_CONTENT,BOARD_WRITER,BOARD_DATETIME,BOARD_VIEWCOUNTER) 
values(#{board_title},#{board_content},#{board_writer},sysdate(),0)
</insert>

<select id="total" resultType="int">
select count(*) from s_board 
</select>

<select id="listSearch" resultType="org.board.domain.BoardVO" parameterType="map">
	<![CDATA[ select * from s_board where SEQ_ID>0 and board_title like CONCAT('%',#{key},'%')  order by SEQ_ID desc limit 0,10]]>

</select>

<select id="totalSearch" resultType="int" parameterType="String">
select count(*) from s_board where board_title like CONCAT('%',#{key},'%')

</select>


</mapper>